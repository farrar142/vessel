# ν…μ¤νΈ κ²°κ³Ό μ”μ•½

## π“ μ „μ²΄ ν…μ¤νΈ κ²°κ³Ό
- **μ΄ ν…μ¤νΈ μ**: 44κ°
- **μ„±κ³µ**: 44κ° β…
- **μ‹¤ν¨**: 0κ°
- **μ„±κ³µλ¥ **: 100%

## π“ μ½”λ“ μ»¤λ²„λ¦¬μ§€
- **μ „μ²΄ μ»¤λ²„λ¦¬μ§€**: 70%
- **ν•µμ‹¬ λ¨λ“ μ»¤λ²„λ¦¬μ§€**:
  - `__init__.py`: 100%
  - `container.py`: 94%
  - `dependency.py`: 94%
  - `component.py`: 94%
  - `handler.py`: 87% (λ°μ½”λ μ΄ν„° ν©ν† λ¦¬)
  - `container_manager.py`: 70%

## π§ ν…μ¤νΈ κµ¬μ„±

### λ‹¨μ„ ν…μ¤νΈ (30κ°)
1. **Container ν…μ¤νΈ** (`test_container.py`) - 4κ°
   - μ»¨ν…μ΄λ„ μƒμ„±
   - λ©”νƒ€λ°μ΄ν„° μ—°μ‚°
   - μ¤‘μ²© μ»¨ν…μ΄λ„
   - μ΄κΈ°ν™”

2. **Component ν…μ¤νΈ** (`test_component.py`) - 5κ°
   - λ°μ½”λ μ΄ν„° μ μ©
   - μ»΄ν¬λ„νΈ μ΄κΈ°ν™”
   - μμ΅΄μ„± μ£Όμ…
   - μ‹±κΈ€ν†¤ ν¨ν„΄
   - νƒ€μ… ννΈ μ—†λ” κ²½μ°

3. **Dependency ν…μ¤νΈ** (`test_dependency.py`) - 8κ°
   - μμ΅΄μ„± μ¶”κ°€
   - Topological Sort (λ‹¨μ/λ³µμ΅)
   - μν™ μμ΅΄μ„± κ°μ§€
   - μμ΅΄μ„± μ¶”μ¶

4. **Handler ν…μ¤νΈ** (`test_handler.py`) - 13κ°
   - HandlerInterceptor (before/after/on_error)
   - HandlerContainer (μƒμ„±, μΈν„°μ…‰ν„° μ¶”κ°€)
   - wrap_handler (λ‹¨μΌ/λ‹¤μ¤‘ μΈν„°μ…‰ν„°, μ—λ¬ μ²λ¦¬)
   - create_handler_decorator (λ‹¨μΌ/λ‹¤μ¤‘ μΈν„°μ…‰ν„°, λ©”νƒ€λ°μ΄ν„°)
   - Built-in μΈν„°μ…‰ν„° (Transaction, Logging)

### ν†µν•© ν…μ¤νΈ (14κ°)
1. **ContainerManager ν†µν•©** (`test_integration.py`) - 8κ°
   - κ°„λ‹¨ν• μ»΄ν¬λ„νΈ μ΄κΈ°ν™”
   - μμ΅΄μ„± μ£Όμ…
   - λ‹¤μ¤‘ μμ΅΄μ„±
   - μ»¨νΈλ΅¤λ¬ μ΄κΈ°ν™”
   - μν™ μμ΅΄μ„± κ°μ§€
   - μ»΄ν¬λ„νΈ μ¤μΊ”
   - μ „μ²΄ μΈμ¤ν„΄μ¤ μ΅°ν

2. **λ°μ½”λ μ΄ν„° ν©ν† λ¦¬ ν†µν•©** (`test_integration_advanced.py`) - 6κ°
   - μΈν„°μ…‰ν„° μμ΅΄μ„± μ£Όμ…
   - λ‹¤μ¤‘ μΈν„°μ…‰ν„° with μμ΅΄μ„±
   - μμ΅΄μ„± μ—†λ” μΈν„°μ…‰ν„°
   - νΌν•© (μμ΅΄μ„± μλ”/μ—†λ”)
   - HTTP λΌμ°ν…

## π― μ£Όμ” κΈ°λ¥ κ²€μ¦

### β… μ™„λ£λ κΈ°λ¥
1. **νƒ€μ… κΈ°λ° μμ΅΄μ„± μ£Όμ…**
   - μƒμ„±μκ°€ μ•„λ‹ μ†μ„± νƒ€μ… ννΈ κΈ°λ°
   - μλ™ μμ΅΄μ„± ν•΄κ²°
   - Topological Sortλ΅ μ¬λ°”λ¥Έ μ΄κΈ°ν™” μμ„ λ³΄μ¥

2. **λ°μ½”λ μ΄ν„° ν©ν† λ¦¬**
   - μ—¬λ¬ μΈν„°μ…‰ν„° ν΄λμ¤ λ“±λ΅ κ°€λ¥
   - μΈν„°μ…‰ν„°λ„ μμ΅΄μ„± μ£Όμ… μ§€μ›
   - `inject_dependencies` μµμ…μΌλ΅ μ„ νƒ κ°€λ¥

3. **ν•Έλ“¤λ¬/μΈν„°μ…‰ν„° μ‹μ¤ν…**
   - before/after/on_error ν›… μ§€μ›
   - λ‹¤μ¤‘ μΈν„°μ…‰ν„° μ²΄μ΄λ‹
   - μ—λ¬ μ „ν λ° μ²λ¦¬

4. **μ»¨ν…μ΄λ„ κ΄€λ¦¬**
   - Component/Controller/Factory ν†µν•© κ΄€λ¦¬
   - μ¤‘μ²© μ»¨ν…μ΄λ„ μ§€μ›
   - λ©”νƒ€λ°μ΄ν„° κ΄€λ¦¬

5. **HTTP λΌμ°ν…**
   - @Get/@Post/@Put/@Delete λ°μ½”λ μ΄ν„°
   - @Controller/@RequestMapping
   - λΌμ°νΈ λ“±λ΅ λ° κ΄€λ¦¬

## π”§ ν…μ¤νΈ μΈν”„λΌ

### μ„¤μ • νμΌ
- `pytest.ini`: pytest μ„¤μ •
- `requirements-test.txt`: ν…μ¤νΈ μμ΅΄μ„±
- `conftest.py`: pytest fixture λ° μ „μ—­ μ„¤μ •

### ν…μ¤νΈ λ„κµ¬
- **pytest 8.3.5**: ν…μ¤νΈ ν”„λ μ„μ›ν¬
- **pytest-cov 7.0.0**: μ½”λ“ μ»¤λ²„λ¦¬μ§€
- **run_tests.py**: ν…μ¤νΈ μ‹¤ν–‰ μ¤ν¬λ¦½νΈ

### Fixture
- `cleanup_registry`: κ° ν…μ¤νΈλ§λ‹¤ μ „μ—­ μ»¨ν…μ΄λ„ λ μ§€μ¤νΈλ¦¬ μ΄κΈ°ν™”
- `manager`: μƒλ΅μ΄ ContainerManager μΈμ¤ν„΄μ¤ μ κ³µ

## π› ν•΄κ²°λ μ΄μ

### μ΄μ 1: μμ΅΄μ„± μ—†λ” μ»΄ν¬λ„νΈ μ΄κΈ°ν™” μ‹¤ν¨
- **λ¬Έμ **: Topological Sort κ²°κ³Όμ— μμ΅΄μ„± μ—†λ” λ…Έλ“κ°€ ν¬ν•¨λμ§€ μ•μ
- **ν•΄κ²°**: `_initialize_components`μ—μ„ sorted_types μ™Έ μ»΄ν¬λ„νΈ/μ»¨νΈλ΅¤λ¬λ„ μ΄κΈ°ν™”

### μ΄μ 2: ν…μ¤νΈ κ°„ μƒνƒ κ³µμ 
- **λ¬Έμ **: μ „μ—­ λ μ§€μ¤νΈλ¦¬λ΅ μΈν• ν…μ¤νΈ κ°„ κ°„μ„­
- **ν•΄κ²°**: `cleanup_registry` fixtureλ΅ κ° ν…μ¤νΈ μ „ν›„ λ μ§€μ¤νΈλ¦¬ μ΄κΈ°ν™”

### μ΄μ 3: component_scan λ¨λ“ κ²½λ΅ μ¤λ¥
- **λ¬Έμ **: pytest ν…μ¤νΈ λ¨λ“μ„ μ°Ύμ§€ λ»ν•¨
- **ν•΄κ²°**: `tests/__init__.py` μ¶”κ°€ + `_collect_containers()` μ§μ ‘ νΈμ¶

## π“ μ¶”κ°€ κ°μ„  μ‚¬ν•­

### λ‚®μ€ μ»¤λ²„λ¦¬μ§€ μμ—­
1. **Factory ν¨ν„΄** (24%)
   - Factory λ©”μ„λ“ ν…μ¤νΈ μ¶”κ°€ ν•„μ”
   - λ‹¤μ¤‘ Factory μ‹λ‚λ¦¬μ¤

2. **HTTP λΌμ°ν…** (45-58%)
   - μ‹¤μ  HTTP μ”μ²­/μ‘λ‹µ ν…μ¤νΈ
   - λΌμ°νΈ λ§¤μΉ­ ν…μ¤νΈ
   - λ―Έλ“¤μ›¨μ–΄ μ²΄μ΄λ‹

3. **Controller** (63%)
   - HTTP λ©”μ„λ“λ³„ ν…μ¤νΈ
   - RequestMapping μ΅°ν•© ν…μ¤νΈ

### μ¶”κ°€ ν…μ¤νΈ μ‹λ‚λ¦¬μ¤
1. μ„±λ¥ ν…μ¤νΈ (λ€λ‰ μ»΄ν¬λ„νΈ)
2. λ™μ‹μ„± ν…μ¤νΈ (λ©€ν‹°μ¤λ λ“)
3. μ—£μ§€ μΌ€μ΄μ¤ (μν™ μμ΅΄μ„± λ³µκµ¬ λ“±)

## π€ μ‹¤ν–‰ λ°©λ²•

```bash
# μ „μ²΄ ν…μ¤νΈ μ‹¤ν–‰
pytest tests/ -v

# μ»¤λ²„λ¦¬μ§€ ν¬ν•¨
python run_tests.py --coverage

# νΉμ • ν…μ¤νΈ νμΌλ§
pytest tests/test_handler.py -v

# νΉμ • ν…μ¤νΈλ§
pytest tests/test_integration.py::TestContainerManagerIntegration::test_simple_component_initialization -vv
```

## π“ λ¬Έμ„
- [TESTING.md](TESTING.md): μƒμ„Έ ν…μ¤νΈ κ°€μ΄λ“
- [README.md](README.md): ν”„λ΅μ νΈ κ°μ”
- μ»¤λ²„λ¦¬μ§€ λ¦¬ν¬νΈ: `htmlcov/index.html`
