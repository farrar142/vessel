# Vessel Framework - TODO# Vessel Framework - TODO



> ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2025-11-26> Last Updated: 2025-11-26 | Version: 0.1.0-alpha



------



## âœ… ì™„ë£Œëœ ì‘ì—…## ï¿½ï¿½ï¿½ í˜„ì¬ ìƒíƒœ



### Phase 1: í•µì‹¬ DI í”„ë ˆì„ì›Œí¬- **60/60 í…ŒìŠ¤íŠ¸ í†µê³¼** âœ…

- **DI ì‹œìŠ¤í…œ**: Container, DependencyGraph, ContainerManager- **30ê°œ íŒŒì¼** ì²´ê³„ì  êµ¬ì¡°

- **ë°ì½”ë ˆì´í„°**: @Component, @Configuration, @Factory, @Controller- **í•µì‹¬ ê¸°ëŠ¥ ì™„ë£Œ** (DI, Web, Middleware)

- **HTTP ë§¤í•‘**: @Get, @Post, @Put, @Delete, @Patch (with @overload)

- **Interceptor**: HandlerContainer, @Transaction, @Logging---



### Phase 2: Web Framework## âœ… ì™„ë£Œëœ ì‘ì—…

- **HTTP ì²˜ë¦¬**: HttpRequest/HttpResponse, RouteHandler

- **Path Parameters**: `/users/{id}` íŒ¨í„´, ìë™ íƒ€ì… ë³€í™˜### Phase 1: DI í”„ë ˆì„ì›Œí¬

- **Middleware**: MiddlewareChain, CorsMiddleware, LoggingMiddleware- Container, DependencyGraph, ContainerManager

- **Application**: Facade íŒ¨í„´, ìë™ ì´ˆê¸°í™”, DevServer- @Component, @Configuration, @Factory

- íƒ€ì… ê¸°ë°˜ ìë™ ì£¼ì…, ì‹±ê¸€í†¤ íŒ¨í„´

### Phase 3: ì½”ë“œ í’ˆì§ˆ ê°œì„ 

- **SRP ì ìš©**: Application â†’ 4ê°œ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬### Phase 2: Web Framework

  - Application (Facade)- HttpRequest/HttpResponse, RouteHandler

  - ApplicationInitializer- Path Parameters, ìë™ íƒ€ì… ë³€í™˜

  - RequestHandler- @Controller, @Get, @Post, @Put, @Delete, @Patch

  - DevServer- Middleware (MiddlewareChain, Early Return, DI ì§€ì›)

- Application (Facade), DevServer

- **ë””ë ‰í† ë¦¬ êµ¬ì¡°í™”**:

```### Phase 3: ì½”ë“œ í’ˆì§ˆ ê°œì„ 

vessel/- SRP ì ìš©: Application 4ê°œ í´ë˜ìŠ¤ ë¶„ë¦¬

â”œâ”€â”€ di/core/         # Container, ContainerManager, DependencyGraph- êµ¬ì¡° ê°œí¸: vessel/ ì „ì²´ ê¸°ëŠ¥ë³„ ì¬êµ¬ì„±

â”œâ”€â”€ di/utils/        # Scanner, Collector, Initializer, Analyzer- di/core + di/utils ë¶„ë¦¬

â”œâ”€â”€ decorators/di/   # @Component, @Configuration, @Factory

â”œâ”€â”€ decorators/web/  # @Controller, HTTP ë§¤í•‘---

â”œâ”€â”€ decorators/handler/  # HandlerContainer, Interceptors

â”œâ”€â”€ http/            # HttpRequest, HttpResponse, RouteHandler## ï¿½ï¿½ï¿½ í”„ë¡œì íŠ¸ êµ¬ì¡°

â””â”€â”€ web/             # Application, Initializer, RequestHandler, Server

    â””â”€â”€ middleware/  # MiddlewareChain, Builtins```

```vessel/

â”œâ”€â”€ di/

---â”‚   â”œâ”€â”€ core/          # Container, ContainerManager, DependencyGraph

â”‚   â””â”€â”€ utils/         # Scanner, Collector, Initializer, Analyzer

## ğŸ“Š í˜„ì¬ ìƒíƒœâ”œâ”€â”€ decorators/

â”‚   â”œâ”€â”€ di/            # @Component, @Configuration, @Factory

**í…ŒìŠ¤íŠ¸**: 60/60 í†µê³¼ âœ…  â”‚   â”œâ”€â”€ web/           # @Controller, HTTP mappings

**íŒŒì¼ ìˆ˜**: 30ê°œ  â”‚   â””â”€â”€ handler/       # HandlerContainer, Interceptors

**ë¼ì¸ ìˆ˜**: ~3,000ì¤„  â”œâ”€â”€ http/              # HttpRequest, HttpResponse, RouteHandler

**ë¬¸ì„œ**: STRUCTURE.md, RESTRUCTURE_PLAN.mdâ””â”€â”€ web/

    â”œâ”€â”€ application.py, initializer.py, request_handler.py, server.py

---    â””â”€â”€ middleware/    # MiddlewareChain, CorsMiddleware

```

## ğŸš€ í–¥í›„ ê°œë°œ ê³„íš

---

### Phase 4: í•µì‹¬ ê¸°ëŠ¥ ê°•í™” (ìš°ì„ ìˆœìœ„: ë†’ìŒ)

## ï¿½ï¿½ï¿½ í–¥í›„ ê°œë°œ ê³„íš

#### DI ê°œì„  - !!ì ˆëŒ€ ê´€ë ¨ ê¸°ëŠ¥ ê°œë°œ ì•ˆí• ê²ƒì„

- [ ] **Constructor Injection** - ìƒì„±ì íŒŒë¼ë¯¸í„° ìë™ ì£¼ì…### Phase 4: í•µì‹¬ ê¸°ëŠ¥ ê°•í™” (ìš°ì„ ìˆœìœ„: ë†’ìŒ)

- [ ] **Lazy Initialization** - `@Component(lazy=True)`

- [ ] **Scope í™•ì¥** - Prototype, Request scope**DI ê°œì„ **

- [ ] **Qualifier** - `@Inject(name="mysql_db")`ë¡œ ë¹ˆ êµ¬ë¶„- [ ] Constructor Injection

- [ ] Lazy Initialization

#### Web ê¸°ëŠ¥- [ ] Scope í™•ì¥ (Prototype, Request)

- [ ] **Validation** - Pydantic í†µí•©, ìë™ ê²€ì¦- [ ] Qualifier ì§€ì›

- [ ] **File Upload** - Multipart form data íŒŒì‹±

- [ ] **Static Files** - `app.serve_static("/static", "./public")`**Web ê¸°ëŠ¥**

- [ ] **Template Engine** - Jinja2 í†µí•©- [ ] ìš”ì²­ ë°”ë”” ê²€ì¦ (Pydantic) - !!í…œí”Œë¦¿ ì—”ì§„ ì§€ì› ì•ˆí• ê²ƒì„.

- [ ] íŒŒì¼ ì—…ë¡œë“œ

#### Middleware- [ ] ì •ì  íŒŒì¼ ì„œë¹™

- [ ] CompressionMiddleware (gzip)- [ ] í…œí”Œë¦¿ ì—”ì§„ (Jinja2)

- [ ] RateLimitMiddleware (rate limiting)

- [ ] SessionMiddleware (ì„¸ì…˜ ê´€ë¦¬)**Middleware**

- [ ] SecurityHeadersMiddleware- [ ] CompressionMiddleware

- [ ] ìš°ì„ ìˆœìœ„ ì§€ì • ê¸°ëŠ¥- [ ] RateLimitMiddleware

- [ ] SessionMiddleware

---- [ ] SecurityHeadersMiddleware



### Phase 5: ê°œë°œ í¸ì˜ì„± (ìš°ì„ ìˆœìœ„: ì¤‘ê°„)---



#### CLI### Phase 5: ê°œë°œ í¸ì˜ì„± (ìš°ì„ ìˆœìœ„: ì¤‘ê°„)

- [ ] `vessel create my-project` - í”„ë¡œì íŠ¸ ìƒì„±

- [ ] `vessel new controller UserController` - ì½”ë“œ ìƒì„±- [ ] CLI ë„êµ¬

- [ ] Hot Reload

#### ê°œë°œ ì„œë²„- [ ] ì—ëŸ¬ í˜ì´ì§€ ê°œì„ 

- [ ] Hot Reload (íŒŒì¼ ë³€ê²½ ê°ì§€)- [ ] DI Inspector

- [ ] ê°œì„ ëœ ì—ëŸ¬ í˜ì´ì§€ (stacktrace)- [ ] Health Check

- [ ] ì»¬ëŸ¬í’€í•œ ë¡œê¹…- [ ] í…ŒìŠ¤íŠ¸ ìœ í‹¸ë¦¬í‹°



#### ë””ë²„ê¹…---

- [ ] DI Inspector (ì»´í¬ë„ŒíŠ¸ ì¡°íšŒ, ì˜ì¡´ì„± ê·¸ë˜í”„)

- [ ] Health Check Endpoint### Phase 6: í”„ë¡œë•ì…˜ ì¤€ë¹„ (ìš°ì„ ìˆœìœ„: ë‚®ìŒ)



#### í…ŒìŠ¤íŠ¸**ì„±ëŠ¥**

- [ ] `@WebTest` ë°ì½”ë ˆì´í„°- [ ] ë¹„ë™ê¸° ì§€ì› (asyncio, uvicorn)

- [ ] Test Client- [ ] ìºì‹± (Redis)

- [ ] Mock ì»´í¬ë„ŒíŠ¸ ì£¼ì…

**ë³´ì•ˆ**

---- [ ] ì¸ì¦/ì¸ê°€ (JWT, @Secured)

- [ ] CSRF ë³´í˜¸

### Phase 6: í”„ë¡œë•ì…˜ (ìš°ì„ ìˆœìœ„: ë‚®ìŒ)

**ëª¨ë‹ˆí„°ë§**

#### ì„±ëŠ¥- [ ] ë©”íŠ¸ë¦­ (Prometheus)

- [ ] **Async ì§€ì›** - `async def` í•¸ë“¤ëŸ¬, ASGI- [ ] ë¡œê¹… (structlog)

- [ ] **Caching** - `@Cacheable`, Redis í†µí•©

---

#### ë³´ì•ˆ

- [ ] **ì¸ì¦/ì¸ê°€** - JWT, `@Secured(roles=["admin"])`### Phase 7: ìƒíƒœê³„ í™•ì¥ (ìš°ì„ ìˆœìœ„: ë‚®ìŒ)

- [ ] **CSRF** - í† í° ìƒì„±/ê²€ì¦

- [ ] ORM í†µí•© (SQLAlchemy, @Repository)

#### ëª¨ë‹ˆí„°ë§- [ ] ë§ˆì´ê·¸ë ˆì´ì…˜ (Alembic)

- [ ] **Metrics** - Prometheus ì—°ë™- [ ] ë©”ì‹œì§• (RabbitMQ/Kafka)

- [ ] **Logging** - structlog (JSON)- [ ] HTTP Client (@HttpClient)



------



### Phase 7: ìƒíƒœê³„ (ìš°ì„ ìˆœìœ„: ë‚®ìŒ)## ï¿½ï¿½ï¿½ í…ŒìŠ¤íŠ¸ í˜„í™©



- [ ] **ORM** - SQLAlchemy, `@Repository`| íŒŒì¼ | í…ŒìŠ¤íŠ¸ |

- [ ] **Migration** - Alembic|------|--------|

- [ ] **Messaging** - RabbitMQ/Kafka, `@MessageListener`| test_application.py | 12 âœ… |

- [ ] **HTTP Client** - `@HttpClient` ë°ì½”ë ˆì´í„°| test_component.py | 5 âœ… |

| test_container.py | 4 âœ… |

---| test_dependency.py | 9 âœ… |

| test_handler.py | 14 âœ… |

## ğŸ“ˆ í…ŒìŠ¤íŠ¸ ëª©í‘œ| test_integration.py | 7 âœ… |

| test_integration_advanced.py | 5 âœ… |

| Phase | í˜„ì¬ | ëª©í‘œ || test_middleware_integration.py | 4 âœ… |

|-------|------|------|| **ì´ê³„** | **60 âœ…** |

| Phase 3 | 60 | 60 âœ… |

| Phase 4 | 60 | 84 |---

| Phase 5 | 84 | 100 |

| Phase 6 | 100 | 120 |## ï¿½ï¿½ï¿½ ê¸°ìˆ  ìŠ¤íƒ



---**í˜„ì¬:** Python 3.12+, pytest



## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ**í–¥í›„:** Pydantic, Click, watchdog, asyncio, Redis, SQLAlchemy



**í˜„ì¬**:---

- Python 3.12+

- í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ (typing, inspect, wsgiref)## ï¿½ï¿½ï¿½ ë¹ ë¥¸ ì‹œì‘

- pytest

```bash

**í–¥í›„**:# ì„¤ì¹˜

- Pydantic, Click/Typer, watchdogpython -m venv venv

- asyncio, uvicorn, Redissource venv/bin/activate

- SQLAlchemy, Alembicpip install pytest

- structlog, prometheus-client

# í…ŒìŠ¤íŠ¸

---pytest

```

## ğŸ“ ê°œë°œ ê°€ì´ë“œ

---

### í™˜ê²½ ì„¤ì •

```bash## ï¿½ï¿½ï¿½ ì»¤ë°‹ ê·œì¹™

python -m venv venv

source venv/bin/activate  # Windows: venv\Scripts\activate`<type>: <subject>`

pip install pytest pytest-cov

pytest**Types:** feat, fix, refactor, test, docs, chore

```

---

### ì»¤ë°‹ ë©”ì‹œì§€

```**ìƒíƒœ: í™œë°œíˆ ê°œë°œ ì¤‘** ï¿½ï¿½ï¿½

<type>: <subject>

<body>
```

**Types**: feat, fix, refactor, test, docs, chore

**ì˜ˆì‹œ**:
```
feat: Constructor Injection ì§€ì› ì¶”ê°€

- ComponentInitializerì—ì„œ __init__ íŒŒë¼ë¯¸í„° ë¶„ì„
- Type hints ê¸°ë°˜ ìë™ ì£¼ì…
```

---

## ğŸ“‚ ì£¼ìš” íŒŒì¼

| íŒŒì¼ | ì„¤ëª… |
|------|------|
| `vessel/di/core/container_manager.py` | DI ë©”ì¸ |
| `vessel/web/application.py` | Application Facade |
| `vessel/http/router.py` | ë¼ìš°íŒ… |
| `vessel/web/middleware/chain.py` | ë¯¸ë“¤ì›¨ì–´ ì²´ì¸ |
| `tests/test_*.py` | 60ê°œ í…ŒìŠ¤íŠ¸ |

---

## ğŸ¯ ë‹¤ìŒ ì‘ì—… (Phase 4 ì‹œì‘)

1. **Constructor Injection** êµ¬í˜„
   - `ComponentInitializer` ìˆ˜ì •
   - `__init__` íŒŒë¼ë¯¸í„° ë¶„ì„ ì¶”ê°€
   - í…ŒìŠ¤íŠ¸ 5ê°œ ì‘ì„±

2. **Lazy Initialization** êµ¬í˜„
   - Proxy íŒ¨í„´ ì ìš©
   - `@Component(lazy=True)` ì˜µì…˜
   - í…ŒìŠ¤íŠ¸ 3ê°œ ì‘ì„±

3. **Validation** êµ¬í˜„
   - Pydantic í†µí•©
   - íƒ€ì… íŒíŠ¸ ê¸°ë°˜ ê²€ì¦
   - í…ŒìŠ¤íŠ¸ 5ê°œ ì‘ì„±

---

**ë²„ì „**: 0.1.0-alpha  
**ìƒíƒœ**: í™œë°œíˆ ê°œë°œ ì¤‘ ğŸš§  
**ë¼ì´ì„ ìŠ¤**: MIT
